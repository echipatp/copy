<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="https://files.catbox.moe/v15jbq.ico" type="image/x-icon" />
  <title>TP Ilustrator - Citat/Verset</title>

  <!-- Fuentes -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,900&display=swap" rel="stylesheet" />

  <style>
    body {
      background-color: #ebe5c1;
      margin: 0;
      padding: 40px 20px 60px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      position: relative;
      overflow-y: auto;
      box-sizing: border-box;
      font-family: 'Open Sans', sans-serif;
      font-weight: 100;
      color: #7f7537;
    }

    .bg-shape {
      position: absolute;
      width: 300px;
      opacity: 0.25;
      z-index: 0;
    }
    .bg-shape.top-left {
      top: 0;
      left: 0;
      transform: rotate(-15deg);
    }
    .bg-shape.bottom-right {
      bottom: 0;
      right: 0;
      transform: rotate(15deg);
    }

    .logo {
      width: 200px;
      margin-bottom: 25px;
      z-index: 1;
      animation: fadeIn 1.2s ease-out;
    }

    .intro-box {
      background: #ffffff;
      padding: 35px 30px;
      border-radius: 18px;
      max-width: 620px;
      width: 100%;
      text-align: center;
      position: relative;
      font-weight: 100;
      font-family: 'Open Sans', sans-serif;
      font-size: 18px;
      color: #7f7537;
      box-sizing: border-box;
      animation: fadeInUp 1s ease-out;
      margin-bottom: 20px;
      z-index: 1;
    }
    .intro-box::before {
      content: "";
      position: absolute;
      top: -3px;
      left: -3px;
      right: -3px;
      bottom: -3px;
      border-radius: 20px;
      background: linear-gradient(270deg, #7f7537, #b0a775, #ebe5c1, #b0a775, #7f7537);
      background-size: 400% 400%;
      animation: borderGlow 8s ease infinite;
      z-index: -1;
    }

    .intro-box h1 {
      font-family: 'Playfair Display', serif;
      font-weight: 900;
      font-size: 38px;
      color: #7f7537;
      margin: 0 0 15px 0;
      user-select: none;
    }

    .numar-sursa {
      font-family: 'Open Sans', sans-serif;
      font-weight: 100;
      font-size: 16px;
      color: #7f7537;
      max-width: 620px;
      width: 100%;
      margin-bottom: 10px;
      text-align: left;
      user-select: none;
      z-index: 1;
    }

    .language-box strong {
      font-family: 'Playfair Display', serif;
      font-weight: 900;
      color: #7f7537;
      display: block;
      margin-bottom: 6px;
      font-size: 18px;
      user-select: none;
    }

    .language-box {
      margin-top: 20px;
      padding: 18px 20px;
      border: 1.8px solid #7f7537;
      border-radius: 12px;
      background-color: #f9f7e9;
      font-family: 'Open Sans', sans-serif;
      font-weight: 100;
      font-size: 16px;
      color: #7f7537;
      box-sizing: border-box;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
    }

    /* El texto dentro de cada idioma */
    .language-text {
      white-space: pre-wrap;
      margin: 0;
    }

    /* Autor/referencia como un bloque separado */
    .language-author {
      font-style: italic;
      font-size: 14px;
      margin-top: 4px;
      color: #5a5323;
      user-select: none;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 100%;
    }

    /* Contenedor botones */
    .btn-group {
      margin-top: 6px;
      width: 100%;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    button {
      background-color: #7f7537;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 100;
      font-family: 'Open Sans', sans-serif;
      font-size: 14px;
      transition: background-color 0.3s ease;
      user-select: none;
      flex-grow: 1;
      min-width: 130px;
    }
    button:hover {
      background-color: #5f5b2b;
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: scale(0.9);}
      100% { opacity: 1; transform: scale(1);}
    }
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(20px);}
      100% { opacity: 1; transform: translateY(0);}
    }
    @keyframes borderGlow {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }
  </style>
</head>
<body>
  <!-- Fondos -->
  <img src="https://i.postimg.cc/BbX9YZGB/TPI-FORMA-1-ANIMADO.gif" class="bg-shape top-left" alt="Decor 1" />
  <img src="https://i.postimg.cc/L4CZnxCc/TPI-FORMA-2-ANIMADO.gif" class="bg-shape bottom-right" alt="Decor 2" />

  <!-- Logo -->
  <img src="https://i.postimg.cc/W4dZvCPp/TPI-ANIMADO-1.gif" alt="TP Ilustrator" class="logo" />

  <!-- Recuadro con título dentro -->
  <div class="intro-box">
    <h1>Bine ai venit.</h1>
  </div>

  <div class="numar-sursa">Număr sursă:</div>

  <div id="languages" style="max-width: 620px; width: 100%;">
    <!-- Română -->
    <div class="language-box" id="caseta_ro">
      <strong>Română:</strong>
      <p id="ro" class="language-text"></p>
      <div id="roInfo" class="language-author"></div>
      <div class="btn-group">
        <button onclick="copiere('ro')">Copiază text</button>
        <button onclick="copiere('roInfo')">Copiază autor/referință</button>
      </div>
    </div>

    <!-- Español -->
    <div class="language-box" id="caseta_es">
      <strong>Español:</strong>
      <p id="es" class="language-text"></p>
      <div id="esInfo" class="language-author"></div>
      <div class="btn-group">
        <button onclick="copiere('es')">Copiază text</button>
        <button onclick="copiere('esInfo')">Copiază autor/referință</button>
      </div>
    </div>

    <!-- English -->
    <div class="language-box" id="caseta_en">
      <strong>English:</strong>
      <p id="en" class="language-text"></p>
      <div id="enInfo" class="language-author"></div>
      <div class="btn-group">
        <button onclick="copiere('en')">Copiază text</button>
        <button onclick="copiere('enInfo')">Copiază autor/referință</button>
      </div>
    </div>

    <!-- Deutsch -->
    <div class="language-box" id="caseta_de">
      <strong>Deutsch:</strong>
      <p id="de" class="language-text"></p>
      <div id="deInfo" class="language-author"></div>
      <div class="btn-group">
        <button onclick="copiere('de')">Copiază text</button>
        <button onclick="copiere('deInfo')">Copiază autor/referință</button>
      </div>
    </div>

    <!-- Português -->
    <div class="language-box" id="caseta_pt">
      <strong>Português:</strong>
      <p id="pt" class="language-text"></p>
      <div id="ptInfo" class="language-author"></div>
      <div class="btn-group">
        <button onclick="copiere('pt')">Copiază text</button>
        <button onclick="copiere('ptInfo')">Copiază autor/referință</button>
      </div>
    </div>

    <!-- Français -->
    <div class="language-box" id="caseta_fr">
      <strong>Français:</strong>
      <p id="fr" class="language-text"></p>
      <div id="frInfo" class="language-author"></div>
      <div class="btn-group">
        <button onclick="copiere('fr')">Copiază text</button>
        <button onclick="copiere('frInfo')">Copiază autor/referință</button>
      </div>
    </div>

    <!-- Italiano -->
    <div class="language-box" id="caseta_it">
      <strong>Italiano:</strong>
      <p id="it" class="language-text"></p>
      <div id="itInfo" class="language-author"></div>
      <div class="btn-group">
        <button onclick="copiere('it')">Copiază text</button>
        <button onclick="copiere('itInfo')">Copiază autor/referință</button>
      </div>
    </div>
  </div>

  <script>
    function copiere(id) {
      const el = document.getElementById(id);
      if (!el) return;
      const range = document.createRange();
      range.selectNodeContents(el);
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
      try {
        document.execCommand('copy');
        alert('Text copiat în clipboard!');
        sel.removeAllRanges();
      } catch (e) {
        alert('Nu s-a putut copia textul.');
      }
    }

    const params = new URLSearchParams(window.location.search);

    function setText(id, param) {
      const val = params.get(param);
      if (val !== null && val !== "") {
        const el = document.getElementById(id);
        if (el) {
          el.textContent = val;

          if (val.includes('\n')) {
            el.style.lineHeight = '1.2';
          } else {
            el.style.lineHeight = '1.6';
          }
        }
      }
    }

    function setAuthor(id, lang) {
      const referinta = params.get(lang + '_virtual_referinta');
      const autor = params.get(lang + '_virtual_autor');
      const val = referinta || autor;
      if (val !== null && val !== "") {
        const el = document.getElementById(id);
        if (el) el.textContent = val;
      }
    }

    // Set textos y autores
    const languages = ['ro','es','en','de','pt','fr','it'];
    languages.forEach(lang => {
      setText(lang, lang + '_virtual');
      setAuthor(lang + 'Info', lang);
    });

    // Număr sursă
    const numarSursaDiv = document.querySelector('.numar-sursa');
    const numarSursa = params.get('numar_virtual');
    if (numarSursa) {
      numarSursaDiv.textContent = 'Număr sursă: ' + numarSursa;
    }
  </script>
</body>
</html>
